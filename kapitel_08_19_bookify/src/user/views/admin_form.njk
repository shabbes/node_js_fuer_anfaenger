{% macro userForm(actionUrl, httpMethod, user, buttonText) %}
<form method="POST" action="{{ actionUrl }}">
  <input type="hidden" name="_method" value="{{ httpMethod }}">

  <label for="name">Name</label>
  <input type="text" id="name" name="name" value="{{ user.name }}" required>

  <label for="email">E-Mail</label>
  <input type="email" id="email" name="email" value="{{ user.email }}" required>

  <label for="password">Passwort</label>
  <input type="password" id="password" name="password" {% if httpMethod == 'POST' %}required{% endif %}>

  <label for="role">Rolle</label>
  <select id="role" name="role" required>
    <option value="user" {% if user.role == 'user' %}selected{% endif %}>User</option>
    <option value="admin" {% if user.role == 'admin' %}selected{% endif %}>Admin</option>
  </select>

  <label for="isActive">
    <input type="checkbox" id="isActive" name="isActive" value="1" {% if user.isActive %}checked{% endif %}>
    Aktiv
  </label>

  <button type="submit">{{ buttonText }}</button>
</form>
{% endmacro %}